# Система управления турами и заявками

## Что было создано

### 1. Backend (Node.js + Express + SQLite)
- ✅ RESTful API для управления турами
- ✅ API для обработки заявок с формы обратной связи
- ✅ JWT авторизация для админ-панели
- ✅ Загрузка изображений для туров
- ✅ База данных SQLite с автоматической инициализацией

### 2. Админ-панель
- ✅ Интерфейс для управления турами (CRUD операции)
- ✅ Просмотр и управление заявками
- ✅ Статистика по турам и заявкам
- ✅ Загрузка изображений для туров
- ✅ Фильтрация заявок по статусу

### 3. Интеграция с фронтендом
- ✅ Автоматическая загрузка туров из базы данных
- ✅ Перехват отправки форм и сохранение в БД
- ✅ Динамическое создание карточек туров
- ✅ Сохранение анимаций GSAP

## Быстрый старт

1. **Установите зависимости:**
```bash
npm install
```

2. **Создайте файл `.env`:**
```env
PORT=3000
JWT_SECRET=your-secret-key-here
```

3. **Запустите сервер:**
```bash
npm start
```

4. **Откройте в браузере:**
- Сайт: http://localhost:3000
- Админ-панель: http://localhost:3000/admin
- Логин: `admin`, Пароль: `admin123`

## Функционал админ-панели

### Управление турами
- Добавление новых туров с изображениями
- Редактирование существующих туров
- Удаление туров
- Управление статусом (активный/неактивный)

### Управление заявками
- Просмотр всех заявок с формы обратной связи
- Фильтрация по статусу (новые/обработанные)
- Отметка заявок как обработанных
- Просмотр детальной информации о заявке

### Статистика
- Количество активных туров
- Общее количество туров
- Количество новых заявок
- Общее количество заявок

## Структура базы данных

### Таблица `tours`
Хранит информацию о турах:
- Название, описание, цена
- Местоположение, длительность
- Даты начала и окончания
- Изображение, статус

### Таблица `applications`
Хранит заявки с формы:
- Имя, телефон, email
- Направление, сообщение
- Связь с туром (если есть)
- Статус обработки

### Таблица `admins`
Хранит учетные данные администраторов

## API Endpoints

### Публичные
- `GET /api/tours` - Список туров
- `GET /api/tours/:id` - Один тур
- `POST /api/applications` - Отправить заявку

### Защищенные (требуют авторизацию)
- `POST /api/auth/login` - Вход
- `POST /api/tours` - Создать тур
- `PUT /api/tours/:id` - Обновить тур
- `DELETE /api/tours/:id` - Удалить тур
- `GET /api/applications` - Список заявок
- `PUT /api/applications/:id/status` - Обновить статус
- `GET /api/stats` - Статистика

## Безопасность

⚠️ **Важно:**
1. Смените пароль администратора после первого входа
2. Измените `JWT_SECRET` в `.env` на случайную строку
3. Не коммитьте файл `.env` в репозиторий
4. Регулярно делайте резервные копии `travel.db`

## Дальнейшее развитие

Возможные улучшения:
- Множественные администраторы с разными ролями
- Email уведомления о новых заявках
- Экспорт заявок в Excel/CSV
- Поиск и фильтрация туров
- Категории туров
- Галерея изображений для туров
- Система бронирования

